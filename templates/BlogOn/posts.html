{% extends 'BlogOn/layout.html' %}
{% block header %}
{{ super() }}
{% endblock %}
{% block body %}
<div class="col-md-10">
    {% set posts = get_posts() %}
    {% set char_limit=150 %}
    <h4>Total: {{posts|count}}</h4>
<div class="panel-group">
  {% for i in posts %}
  <div class="panel panel-primary">
    <div class="panel-heading"><h3>{{i['title']}}</h3></div>
    <div class="panel-body">
        <div class="col-sm-10">
            <p>
                {{(i['content']|striptags)[:char_limit] }}
                {% if (i['content']|striptags)|count > char_limit %}
                ...
                {%endif%}
            </p>
        </div>
        <div class="cpl-sm-2">
        </div>
    </div>
    <div class="panel-footer">
        <div class="btn-group btn-group-justified">
          <a href="#" class="btn btn-default"><span class="glyphicon glyphicon-pencil"></span> Edit</a>
          <a href="#" class="btn btn-default"><span class="glyphicon glyphicon-eye-open"></span> View</a>
          <a href="#" class="btn btn-default"><span class="glyphicon glyphicon-trash"></span> Delete</a>
        </div>

    </div>
  </div>
    {% endfor %}
</div>

</div>
{% endblock %}
